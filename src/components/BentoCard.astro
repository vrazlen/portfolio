---
import { cn } from '../lib/utils';

interface Props {
  title?: string;
  description?: string;
  colSpan?: number;
  rowSpan?: number;
  href?: string;
  class?: string;
}

const { title, description, colSpan = 1, rowSpan = 1, href, class: className } = Astro.props;

const Tag = href ? 'a' : 'div';
---

<Tag
  href={href}
  class={cn(
    "group relative flex flex-col overflow-hidden rounded-3xl bg-white dark:bg-surface-900 border border-slate-200 dark:border-slate-800 shadow-sm transition-all hover:shadow-md dark:hover:border-slate-700",
    colSpan === 1 && "col-span-1",
    colSpan === 2 && "col-span-1 md:col-span-2",
    colSpan === 3 && "col-span-1 md:col-span-3",
    rowSpan === 1 && "row-span-1",
    rowSpan === 2 && "row-span-1 md:row-span-2",
    className
  )}
>
  <div class="flex-1 relative z-10">
    <slot />
  </div>
  
  {(title || description) && (
    <div class="relative z-20 p-6 pt-0 mt-auto">
      {title && (
        <h3 class="font-display text-xl font-bold tracking-tight text-slate-900 dark:text-slate-100 group-hover:text-accent transition-colors">
          {title}
        </h3>
      )}
      {description && (
        <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">
          {description}
        </p>
      )}
    </div>
  )}
  
  <!-- Hover Effect Gradient -->
  <div
    class="pointer-events-none absolute inset-0 bg-gradient-to-br from-accent/5 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"
  />
</Tag>
